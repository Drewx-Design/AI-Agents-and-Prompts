COMPREHENSIVE SESSION ANALYSIS & HANDOFF

Generate detailed session summary with system optimization insights:

SESSION PERFORMANCE ANALYSIS:
- Tasks completed: [LIST WITH IDs, actual vs estimated time, complexity accuracy]
- Velocity metrics: [Simple: X min avg, Medium: X min avg, High: X min avg]
- Quality gates: [Passed/Failed counts, RULES.md compliance rate]
- Circuit breakers: [Triggered count, reasons, effectiveness]

DEVELOPMENT ACHIEVEMENTS:
- Features delivered: [USER-FACING FUNCTIONALITY ADDED]
- Architecture decisions: [SIGNIFICANT TECHNICAL CHOICES MADE]
- Integration successes: [COMPONENTS CONNECTED WITHOUT BREAKING EXISTING]
- Technical debt addressed: [CLEANUP OR REFACTORING COMPLETED]

SYSTEM EVOLUTION & DISCOVERIES:
- Patterns identified: [SUCCESSFUL APPROACHES TO REUSE]
- Anti-patterns avoided: [APPROACHES THAT FAILED, WHY]
- Architecture evolution: [HOW SYSTEM DESIGN CHANGED/IMPROVED]
- New constraints discovered: [TECHNICAL LIMITATIONS FOUND]
- Tool effectiveness: [WHAT WORKED WELL, WHAT DIDN'T]

CONTEXT & CLAUDE CODE OPTIMIZATION:
- Instructions analysis: [REVIEW CURRENT .claude/CLAUDE.md FOR IMPROVEMENTS]
- Command effectiveness: [WHICH .claude/commands/* WORKED WELL/POORLY]
- Permission updates: [NEW TOOLS/MCPs APPROVED THAT SHOULD BE ADDED TO CONFIG]
- Workflow improvements: [BETTER WAYS TO STRUCTURE DEVELOPMENT SESSIONS]

5-FILE SYSTEM HEALTH CHECK:
- PROJECT.md: [ARCHITECTURE ACCURACY, VISION ALIGNMENT]
- RULES.md: [CONSTRAINT EFFECTIVENESS, QUALITY STANDARD ADHERENCE]
- prompt_plan.md: [PHASE ACCURACY, TASK COMPLEXITY CALIBRATION]
- todo.md: [VELOCITY TRACKING ACCURACY, CONTEXT PRESERVATION]
- INSIGHTS.md: [LEARNING ACCUMULATION, PATTERN RECOGNITION EFFECTIVENESS]

HANDOFF PREPARATION:
- Current active task: [ID, STATUS, COMPLETION ESTIMATE]
- Next session priorities: [LOGICAL SEQUENCE FOR CONTINUATION]
- Blockers requiring attention: [ISSUES TO RESOLVE BEFORE PROCEEDING]
- Context preservation: [KEY WORKING SYSTEMS TO PROTECT]

RECOMMENDATIONS FOR NEXT SESSION:
- Process improvements: [WORKFLOW OPTIMIZATIONS TO IMPLEMENT]
- Technical focus areas: [ARCHITECTURE/PERFORMANCE CONCERNS TO ADDRESS]
- Quality adjustments: [RULES.md MODIFICATIONS TO CONSIDER]
- Complexity calibration: [TASK ESTIMATION ADJUSTMENTS NEEDED]

INSIGHTS.md UPDATE REQUIREMENTS:
1. **Pattern Library**: Add successful approaches and anti-patterns from this session
2. **Velocity Calibration**: Update timing data and complexity scoring accuracy
3. **Process Optimization**: Record workflow improvements and tool effectiveness
4. **Claude Instruction Evolution**: Document instruction gaps and improvement opportunities
5. **Session Learning**: Capture key insights and add to accumulated wisdom
6. **Quality Trends**: Update code quality metrics and integration success rates
7. **Predictive Insights**: Update project health indicators and risk assessments

CLAUDE INSTRUCTION OPTIMIZATION:
Based on session patterns, propose updates to:
- .claude/CLAUDE.md: [SPECIFIC IMPROVEMENTS TO PROJECT CONTEXT]
- .claude/commands/*: [NEW COMMANDS OR IMPROVEMENTS TO EXISTING]
- .claude/settings.json: [PERMISSION/MCP ADDITIONS NEEDED]

OUTPUT REQUIREMENTS:
- Update all 5 files with session results
- Archive detailed learning insights in INSIGHTS.md
- Update velocity calibration and pattern recognition
- Prepare optimized context for next session startup
- Generate Claude instruction improvements for review

Ready for intelligent handoff with comprehensive learning capture.